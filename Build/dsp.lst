ARM GAS  C:\Users\ACER\AppData\Local\Temp\ccETobTy.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"dsp.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Core/Src/Application/State_Estimator/Dsp/dsp.c"
  20              		.section	.text.Reducer_apply,"ax",%progbits
  21              		.align	1
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	Reducer_apply:
  27              	.LVL0:
  28              	.LFB170:
   1:Core/Src/Application/State_Estimator/Dsp/dsp.c **** #include "dsp.h"
   2:Core/Src/Application/State_Estimator/Dsp/dsp.c **** extern float32_t pendlm_butterworth_coeffs[PENDULM_FILTER_STAGES_NUM * COEFFS_NUM];
   3:Core/Src/Application/State_Estimator/Dsp/dsp.c **** extern float32_t motor_butterworth_coeffs[MOTOR_FILTER_STAGES_NUM * COEFFS_NUM];
   4:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
   5:Core/Src/Application/State_Estimator/Dsp/dsp.c **** static void Differentiator_apply(Differentiator * const self, float32_t * input, float32_t * output
   6:Core/Src/Application/State_Estimator/Dsp/dsp.c **** {
   7:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     float32_t diff_x;
   8:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     float32_t filtered_diff_x;
   9:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     float32_t x = *input;
  10:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
  11:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     /*Estimate first derivative*/
  12:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     diff_x = self->coeffs[0] * x + self->coeffs[1] * self->state[1] + self->coeffs[2] * self->state
  13:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
  14:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     /*Store the updated state variables back into the state array*/
  15:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->state[2] = self->state[1]; self->state[1] = x;
  16:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     
  17:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     /*Filter estimated first derivative*/
  18:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     arm_biquad_cascade_df2T_f32(&self->filter, &diff_x, &filtered_diff_x, 1);
  19:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
  20:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     /*Return output value*/
  21:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     *output = filtered_diff_x;
  22:Core/Src/Application/State_Estimator/Dsp/dsp.c **** }
  23:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
  24:Core/Src/Application/State_Estimator/Dsp/dsp.c **** void Differentiator_new(Differentiator * const self, float32_t sample_time, uint8_t num_states, flo
  25:Core/Src/Application/State_Estimator/Dsp/dsp.c **** {
  26:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     /*Assign member functions*/
  27:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->apply = &Differentiator_apply;
  28:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
  29:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     /*Initialize data members*/
  30:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->sample_time = sample_time;
ARM GAS  C:\Users\ACER\AppData\Local\Temp\ccETobTy.s 			page 2


  31:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->coeffs[0] = 3.0F / (2.0F * self->sample_time);
  32:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->coeffs[1] = -4.0F / (2.0F * self->sample_time);
  33:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->coeffs[2] = 1.0F / (2.0F * self->sample_time);
  34:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->state[0] = 0.0F; 
  35:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->state[1] = 0.0F;
  36:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
  37:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     /*Initialize filter*/
  38:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->filter_state = ( float32_t * ) pvPortMalloc( 2 * num_states ); 
  39:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
  40:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     arm_biquad_cascade_df2T_init_f32(&self->filter, num_states, filter_coeffs, self->filter_state);
  41:Core/Src/Application/State_Estimator/Dsp/dsp.c **** }
  42:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
  43:Core/Src/Application/State_Estimator/Dsp/dsp.c **** static void Reducer_apply(struct Reducer * const self, float32_t * raw_angle, float32_t * clean_ang
  44:Core/Src/Application/State_Estimator/Dsp/dsp.c **** {
  29              		.loc 1 44 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
  45:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     float32_t estimated_angle;
  34              		.loc 1 45 5 view .LVU1
  46:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     float32_t reading_angle = *raw_angle;
  35              		.loc 1 46 5 view .LVU2
  36              		.loc 1 46 15 is_stmt 0 view .LVU3
  37 0000 91ED007A 		vldr.32	s14, [r1]
  38              	.LVL1:
  47:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
  48:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     /*Estimate current angle*/
  49:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     estimated_angle = self->reduced_angle[1] + 1.5F * self->reduced_angle[1] - 2.0F * self->reduced
  39              		.loc 1 49 5 is_stmt 1 view .LVU4
  40              		.loc 1 49 42 is_stmt 0 view .LVU5
  41 0004 D0ED027A 		vldr.32	s15, [r0, #8]
  42              		.loc 1 49 53 view .LVU6
  43 0008 F7EE086A 		vmov.f32	s13, #1.5e+0
  44 000c 67EEA66A 		vmul.f32	s13, s15, s13
  45              		.loc 1 49 46 view .LVU7
  46 0010 77EEA67A 		vadd.f32	s15, s15, s13
  47              		.loc 1 49 106 view .LVU8
  48 0014 D0ED036A 		vldr.32	s13, [r0, #12]
  49              		.loc 1 49 85 view .LVU9
  50 0018 76EEA66A 		vadd.f32	s13, s13, s13
  51              		.loc 1 49 78 view .LVU10
  52 001c 77EEE67A 		vsub.f32	s15, s15, s13
  53              		.loc 1 49 138 view .LVU11
  54 0020 D0ED046A 		vldr.32	s13, [r0, #16]
  55              		.loc 1 49 117 view .LVU12
  56 0024 B6EE006A 		vmov.f32	s12, #5.0e-1
  57 0028 66EE866A 		vmul.f32	s13, s13, s12
  58              		.loc 1 49 21 view .LVU13
  59 002c 77EEA67A 		vadd.f32	s15, s15, s13
  60              	.LVL2:
  50:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
  51:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     /*Detect arbnormal angle data*/
  52:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->reduced_angle[0] = fabsf(estimated_angle - reading_angle) > self->threshold ? estimated_a
  61              		.loc 1 52 5 is_stmt 1 view .LVU14
  62              		.loc 1 52 52 is_stmt 0 view .LVU15
  63 0030 77EEC76A 		vsub.f32	s13, s15, s14
ARM GAS  C:\Users\ACER\AppData\Local\Temp\ccETobTy.s 			page 3


  64              		.loc 1 52 30 view .LVU16
  65 0034 F0EEE66A 		vabs.f32	s13, s13
  66              		.loc 1 52 75 view .LVU17
  67 0038 90ED006A 		vldr.32	s12, [r0]
  68              		.loc 1 52 105 view .LVU18
  69 003c F4EEC66A 		vcmpe.f32	s13, s12
  70 0040 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
  71 0044 01DD     		ble	.L2
  72              		.loc 1 52 105 discriminator 1 view .LVU19
  73 0046 B0EE677A 		vmov.f32	s14, s15
  74              	.LVL3:
  75              	.L2:
  76              		.loc 1 52 28 discriminator 4 view .LVU20
  77 004a 80ED017A 		vstr.32	s14, [r0, #4]
  78              	.LVL4:
  53:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     *clean_angle = self->reduced_angle[0];
  79              		.loc 1 53 5 is_stmt 1 view .LVU21
  80              		.loc 1 53 18 is_stmt 0 view .LVU22
  81 004e 82ED007A 		vstr.32	s14, [r2]
  54:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
  55:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     /*Store the updated state variables back into the state array*/
  56:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->reduced_angle[3] = self->reduced_angle[2];
  82              		.loc 1 56 5 is_stmt 1 view .LVU23
  83              		.loc 1 56 49 is_stmt 0 view .LVU24
  84 0052 C368     		ldr	r3, [r0, #12]	@ float
  85              		.loc 1 56 28 view .LVU25
  86 0054 0361     		str	r3, [r0, #16]	@ float
  57:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->reduced_angle[2] = self->reduced_angle[1];
  87              		.loc 1 57 5 is_stmt 1 view .LVU26
  88              		.loc 1 57 49 is_stmt 0 view .LVU27
  89 0056 8368     		ldr	r3, [r0, #8]	@ float
  90              		.loc 1 57 28 view .LVU28
  91 0058 C360     		str	r3, [r0, #12]	@ float
  58:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->reduced_angle[1] = self->reduced_angle[0];
  92              		.loc 1 58 5 is_stmt 1 view .LVU29
  93              		.loc 1 58 28 is_stmt 0 view .LVU30
  94 005a 80ED027A 		vstr.32	s14, [r0, #8]
  59:Core/Src/Application/State_Estimator/Dsp/dsp.c **** }
  95              		.loc 1 59 1 view .LVU31
  96 005e 7047     		bx	lr
  97              		.cfi_endproc
  98              	.LFE170:
 100              		.section	.text.cvtAngle,"ax",%progbits
 101              		.align	1
 102              		.syntax unified
 103              		.thumb
 104              		.thumb_func
 106              	cvtAngle:
 107              	.LVL5:
 108              	.LFB172:
  60:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
  61:Core/Src/Application/State_Estimator/Dsp/dsp.c **** void Reducer_new(struct Reducer * const self, float32_t threshold)
  62:Core/Src/Application/State_Estimator/Dsp/dsp.c **** {
  63:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     /*Assign member functions*/
  64:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->apply = &Reducer_apply;
  65:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
  66:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     /*Initialize data members*/
ARM GAS  C:\Users\ACER\AppData\Local\Temp\ccETobTy.s 			page 4


  67:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->threshold = threshold;
  68:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->reduced_angle[0] = 0.0F; self->reduced_angle[1] = 0.0F;
  69:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->reduced_angle[2] = 0.0F; self->reduced_angle[3] = 0.0F;
  70:Core/Src/Application/State_Estimator/Dsp/dsp.c **** }
  71:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
  72:Core/Src/Application/State_Estimator/Dsp/dsp.c **** static void cvtAngle(struct Dsp * const self, Encoder const * const encoder_topic)
  73:Core/Src/Application/State_Estimator/Dsp/dsp.c **** {
 109              		.loc 1 73 1 is_stmt 1 view -0
 110              		.cfi_startproc
 111              		@ args = 0, pretend = 0, frame = 0
 112              		@ frame_needed = 0, uses_anonymous_args = 0
 113              		@ link register save eliminated.
  74:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     /*Estimate angle from reading encoder counter*/
  75:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->raw_motor_angle = self->motor_resol * encoder_topic->motor_counter;
 114              		.loc 1 75 5 view .LVU33
 115              		.loc 1 75 33 is_stmt 0 view .LVU34
 116 0000 90ED027A 		vldr.32	s14, [r0, #8]
 117              		.loc 1 75 62 view .LVU35
 118 0004 B1F90230 		ldrsh	r3, [r1, #2]
 119 0008 07EE903A 		vmov	s15, r3	@ int
 120              		.loc 1 75 47 view .LVU36
 121 000c F8EEE77A 		vcvt.f32.s32	s15, s15
 122 0010 67EE877A 		vmul.f32	s15, s15, s14
 123              		.loc 1 75 27 view .LVU37
 124 0014 C0ED007A 		vstr.32	s15, [r0]
  76:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->raw_pendlm_angle = self->pendlm_resol * encoder_topic->pendlm_counter;
 125              		.loc 1 76 5 is_stmt 1 view .LVU38
 126              		.loc 1 76 34 is_stmt 0 view .LVU39
 127 0018 90ED037A 		vldr.32	s14, [r0, #12]
 128              		.loc 1 76 64 view .LVU40
 129 001c B1F90030 		ldrsh	r3, [r1]
 130 0020 07EE903A 		vmov	s15, r3	@ int
 131              		.loc 1 76 49 view .LVU41
 132 0024 F8EEE77A 		vcvt.f32.s32	s15, s15
 133 0028 67EE877A 		vmul.f32	s15, s15, s14
 134              		.loc 1 76 28 view .LVU42
 135 002c C0ED017A 		vstr.32	s15, [r0, #4]
  77:Core/Src/Application/State_Estimator/Dsp/dsp.c **** }
 136              		.loc 1 77 1 view .LVU43
 137 0030 7047     		bx	lr
 138              		.cfi_endproc
 139              	.LFE172:
 141              		.section	.text.filter,"ax",%progbits
 142              		.align	1
 143              		.syntax unified
 144              		.thumb
 145              		.thumb_func
 147              	filter:
 148              	.LVL6:
 149              	.LFB173:
  78:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
  79:Core/Src/Application/State_Estimator/Dsp/dsp.c **** static void filter(struct Dsp * const self)
  80:Core/Src/Application/State_Estimator/Dsp/dsp.c **** {
 150              		.loc 1 80 1 is_stmt 1 view -0
 151              		.cfi_startproc
 152              		@ args = 0, pretend = 0, frame = 0
 153              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\ACER\AppData\Local\Temp\ccETobTy.s 			page 5


 154              		.loc 1 80 1 is_stmt 0 view .LVU45
 155 0000 38B5     		push	{r3, r4, r5, lr}
 156              	.LCFI0:
 157              		.cfi_def_cfa_offset 16
 158              		.cfi_offset 3, -16
 159              		.cfi_offset 4, -12
 160              		.cfi_offset 5, -8
 161              		.cfi_offset 14, -4
 162 0002 0446     		mov	r4, r0
  81:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     /*Reduce abnormal reading angle*/
  82:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->motor_reducer->apply(self->motor_reducer, &self->raw_motor_angle, &self->motor_angle);
 163              		.loc 1 82 5 is_stmt 1 view .LVU46
 164              		.loc 1 82 9 is_stmt 0 view .LVU47
 165 0004 006C     		ldr	r0, [r0, #64]
 166              	.LVL7:
 167              		.loc 1 82 24 view .LVU48
 168 0006 4369     		ldr	r3, [r0, #20]
 169              		.loc 1 82 5 view .LVU49
 170 0008 04F11002 		add	r2, r4, #16
 171 000c 2146     		mov	r1, r4
 172 000e 9847     		blx	r3
 173              	.LVL8:
  83:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->pendlm_reducer->apply(self->pendlm_reducer, &self->raw_pendlm_angle, &self->pendlm_angle)
 174              		.loc 1 83 5 is_stmt 1 view .LVU50
 175              		.loc 1 83 9 is_stmt 0 view .LVU51
 176 0010 606C     		ldr	r0, [r4, #68]
 177              		.loc 1 83 25 view .LVU52
 178 0012 4369     		ldr	r3, [r0, #20]
 179              		.loc 1 83 5 view .LVU53
 180 0014 04F11402 		add	r2, r4, #20
 181 0018 211D     		adds	r1, r4, #4
 182 001a 9847     		blx	r3
 183              	.LVL9:
  84:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->filtered_motor_angle = self->motor_angle;
 184              		.loc 1 84 5 is_stmt 1 view .LVU54
 185              		.loc 1 84 38 is_stmt 0 view .LVU55
 186 001c 2369     		ldr	r3, [r4, #16]	@ float
 187              		.loc 1 84 32 view .LVU56
 188 001e A361     		str	r3, [r4, #24]	@ float
  85:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->filtered_pendlm_angle = self->pendlm_angle;
 189              		.loc 1 85 5 is_stmt 1 view .LVU57
 190              		.loc 1 85 39 is_stmt 0 view .LVU58
 191 0020 6369     		ldr	r3, [r4, #20]	@ float
 192              		.loc 1 85 33 view .LVU59
 193 0022 E361     		str	r3, [r4, #28]	@ float
  86:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
  87:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     /*Estimate first derivative and filter*/
  88:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->motor_differentiator->apply(self->motor_differentiator, &self->filtered_motor_angle, &sel
 194              		.loc 1 88 5 is_stmt 1 view .LVU60
 195              		.loc 1 88 9 is_stmt 0 view .LVU61
 196 0024 A06C     		ldr	r0, [r4, #72]
 197              		.loc 1 88 31 view .LVU62
 198 0026 836A     		ldr	r3, [r0, #40]
 199              		.loc 1 88 5 view .LVU63
 200 0028 04F11805 		add	r5, r4, #24
 201 002c 04F12002 		add	r2, r4, #32
 202 0030 2946     		mov	r1, r5
ARM GAS  C:\Users\ACER\AppData\Local\Temp\ccETobTy.s 			page 6


 203 0032 9847     		blx	r3
 204              	.LVL10:
  89:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->pendlm_differentiator->apply(self->pendlm_differentiator, &self->filtered_motor_angle, &s
 205              		.loc 1 89 5 is_stmt 1 view .LVU64
 206              		.loc 1 89 9 is_stmt 0 view .LVU65
 207 0034 E06C     		ldr	r0, [r4, #76]
 208              		.loc 1 89 32 view .LVU66
 209 0036 836A     		ldr	r3, [r0, #40]
 210              		.loc 1 89 5 view .LVU67
 211 0038 04F12402 		add	r2, r4, #36
 212 003c 2946     		mov	r1, r5
 213 003e 9847     		blx	r3
 214              	.LVL11:
  90:Core/Src/Application/State_Estimator/Dsp/dsp.c **** }
 215              		.loc 1 90 1 view .LVU68
 216 0040 38BD     		pop	{r3, r4, r5, pc}
 217              		.loc 1 90 1 view .LVU69
 218              		.cfi_endproc
 219              	.LFE173:
 221              		.section	.text.estimate,"ax",%progbits
 222              		.align	1
 223              		.syntax unified
 224              		.thumb
 225              		.thumb_func
 227              	estimate:
 228              	.LVL12:
 229              	.LFB174:
  91:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
  92:Core/Src/Application/State_Estimator/Dsp/dsp.c **** static void estimate(struct Dsp * const self)
  93:Core/Src/Application/State_Estimator/Dsp/dsp.c **** {
 230              		.loc 1 93 1 is_stmt 1 view -0
 231              		.cfi_startproc
 232              		@ args = 0, pretend = 0, frame = 0
 233              		@ frame_needed = 0, uses_anonymous_args = 0
 234              		@ link register save eliminated.
  94:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     /*Output into interfaced variables estimated_motor_data*/
  95:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->estimated_motor_data.angle = self->filtered_motor_angle;
 235              		.loc 1 95 5 view .LVU71
 236              		.loc 1 95 44 is_stmt 0 view .LVU72
 237 0000 8369     		ldr	r3, [r0, #24]	@ float
 238              		.loc 1 95 38 view .LVU73
 239 0002 8362     		str	r3, [r0, #40]	@ float
  96:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->estimated_motor_data.vel = self->filtered_motor_vel;
 240              		.loc 1 96 5 is_stmt 1 view .LVU74
 241              		.loc 1 96 42 is_stmt 0 view .LVU75
 242 0004 036A     		ldr	r3, [r0, #32]	@ float
 243              		.loc 1 96 36 view .LVU76
 244 0006 C362     		str	r3, [r0, #44]	@ float
  97:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->estimated_pendlm_data.angle = self->filtered_pendlm_angle;
 245              		.loc 1 97 5 is_stmt 1 view .LVU77
 246              		.loc 1 97 45 is_stmt 0 view .LVU78
 247 0008 C369     		ldr	r3, [r0, #28]	@ float
 248              		.loc 1 97 39 view .LVU79
 249 000a 4363     		str	r3, [r0, #52]	@ float
  98:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->estimated_pendlm_data.vel = self->filtered_pendlm_vel;
 250              		.loc 1 98 5 is_stmt 1 view .LVU80
 251              		.loc 1 98 43 is_stmt 0 view .LVU81
ARM GAS  C:\Users\ACER\AppData\Local\Temp\ccETobTy.s 			page 7


 252 000c 436A     		ldr	r3, [r0, #36]	@ float
 253              		.loc 1 98 37 view .LVU82
 254 000e 8363     		str	r3, [r0, #56]	@ float
  99:Core/Src/Application/State_Estimator/Dsp/dsp.c **** }
 255              		.loc 1 99 1 view .LVU83
 256 0010 7047     		bx	lr
 257              		.cfi_endproc
 258              	.LFE174:
 260              		.section	.text.processNewData,"ax",%progbits
 261              		.align	1
 262              		.syntax unified
 263              		.thumb
 264              		.thumb_func
 266              	processNewData:
 267              	.LVL13:
 268              	.LFB175:
 100:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
 101:Core/Src/Application/State_Estimator/Dsp/dsp.c **** static void processNewData(struct Dsp * const self, Encoder const * const encoder_topic, State * co
 102:Core/Src/Application/State_Estimator/Dsp/dsp.c **** {
 269              		.loc 1 102 1 is_stmt 1 view -0
 270              		.cfi_startproc
 271              		@ args = 0, pretend = 0, frame = 0
 272              		@ frame_needed = 0, uses_anonymous_args = 0
 273              		.loc 1 102 1 is_stmt 0 view .LVU85
 274 0000 38B5     		push	{r3, r4, r5, lr}
 275              	.LCFI1:
 276              		.cfi_def_cfa_offset 16
 277              		.cfi_offset 3, -16
 278              		.cfi_offset 4, -12
 279              		.cfi_offset 5, -8
 280              		.cfi_offset 14, -4
 281 0002 0446     		mov	r4, r0
 282 0004 1546     		mov	r5, r2
 103:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     /*Output to self->motor_angle, pendlm_angle*/
 104:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->cvtAngle(self, encoder_topic);
 283              		.loc 1 104 5 is_stmt 1 view .LVU86
 284              		.loc 1 104 9 is_stmt 0 view .LVU87
 285 0006 436D     		ldr	r3, [r0, #84]
 286              		.loc 1 104 5 view .LVU88
 287 0008 9847     		blx	r3
 288              	.LVL14:
 105:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
 106:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     /*Output to self->filtered_motor_angle, self->filtered_pendlm_angle*/
 107:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->filter(self);
 289              		.loc 1 107 5 is_stmt 1 view .LVU89
 290              		.loc 1 107 9 is_stmt 0 view .LVU90
 291 000a A36D     		ldr	r3, [r4, #88]
 292              		.loc 1 107 5 view .LVU91
 293 000c 2046     		mov	r0, r4
 294 000e 9847     		blx	r3
 295              	.LVL15:
 108:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
 109:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     /*Output to self->estimated_motor_data, self->estimated_pendlm_data*/
 110:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->estimate(self);
 296              		.loc 1 110 5 is_stmt 1 view .LVU92
 297              		.loc 1 110 9 is_stmt 0 view .LVU93
 298 0010 E36D     		ldr	r3, [r4, #92]
ARM GAS  C:\Users\ACER\AppData\Local\Temp\ccETobTy.s 			page 8


 299              		.loc 1 110 5 view .LVU94
 300 0012 2046     		mov	r0, r4
 301 0014 9847     		blx	r3
 302              	.LVL16:
 111:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
 112:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     /*Copy estimated data into state_topic*/
 113:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     state_topic->motor = self->estimated_motor_data;
 303              		.loc 1 113 5 is_stmt 1 view .LVU95
 304              		.loc 1 113 24 is_stmt 0 view .LVU96
 305 0016 04F12803 		add	r3, r4, #40
 306 001a 93E80700 		ldm	r3, {r0, r1, r2}
 307 001e 85E80700 		stm	r5, {r0, r1, r2}
 114:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     state_topic->pendlm = self->estimated_pendlm_data;
 308              		.loc 1 114 5 is_stmt 1 view .LVU97
 309              		.loc 1 114 25 is_stmt 0 view .LVU98
 310 0022 0C35     		adds	r5, r5, #12
 311              	.LVL17:
 312              		.loc 1 114 25 view .LVU99
 313 0024 3434     		adds	r4, r4, #52
 314              	.LVL18:
 315              		.loc 1 114 25 view .LVU100
 316 0026 94E80700 		ldm	r4, {r0, r1, r2}
 317 002a 85E80700 		stm	r5, {r0, r1, r2}
 115:Core/Src/Application/State_Estimator/Dsp/dsp.c **** }
 318              		.loc 1 115 1 view .LVU101
 319 002e 38BD     		pop	{r3, r4, r5, pc}
 320              		.loc 1 115 1 view .LVU102
 321              		.cfi_endproc
 322              	.LFE175:
 324              		.section	.text.Differentiator_apply,"ax",%progbits
 325              		.align	1
 326              		.syntax unified
 327              		.thumb
 328              		.thumb_func
 330              	Differentiator_apply:
 331              	.LVL19:
 332              	.LFB168:
   6:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     float32_t diff_x;
 333              		.loc 1 6 1 is_stmt 1 view -0
 334              		.cfi_startproc
 335              		@ args = 0, pretend = 0, frame = 8
 336              		@ frame_needed = 0, uses_anonymous_args = 0
   6:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     float32_t diff_x;
 337              		.loc 1 6 1 is_stmt 0 view .LVU104
 338 0000 10B5     		push	{r4, lr}
 339              	.LCFI2:
 340              		.cfi_def_cfa_offset 8
 341              		.cfi_offset 4, -8
 342              		.cfi_offset 14, -4
 343 0002 82B0     		sub	sp, sp, #8
 344              	.LCFI3:
 345              		.cfi_def_cfa_offset 16
 346 0004 1446     		mov	r4, r2
   7:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     float32_t filtered_diff_x;
 347              		.loc 1 7 5 is_stmt 1 view .LVU105
   8:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     float32_t x = *input;
 348              		.loc 1 8 5 view .LVU106
ARM GAS  C:\Users\ACER\AppData\Local\Temp\ccETobTy.s 			page 9


   9:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
 349              		.loc 1 9 5 view .LVU107
   9:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
 350              		.loc 1 9 15 is_stmt 0 view .LVU108
 351 0006 D1ED006A 		vldr.32	s13, [r1]
 352              	.LVL20:
  12:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
 353              		.loc 1 12 5 is_stmt 1 view .LVU109
  12:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
 354              		.loc 1 12 26 is_stmt 0 view .LVU110
 355 000a D0ED007A 		vldr.32	s15, [r0]
  12:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
 356              		.loc 1 12 30 view .LVU111
 357 000e 67EEA67A 		vmul.f32	s15, s15, s13
  12:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
 358              		.loc 1 12 48 view .LVU112
 359 0012 90ED017A 		vldr.32	s14, [r0, #4]
  12:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
 360              		.loc 1 12 65 view .LVU113
 361 0016 90ED056A 		vldr.32	s12, [r0, #20]
  12:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
 362              		.loc 1 12 52 view .LVU114
 363 001a 27EE067A 		vmul.f32	s14, s14, s12
  12:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
 364              		.loc 1 12 34 view .LVU115
 365 001e 77EE877A 		vadd.f32	s15, s15, s14
  12:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
 366              		.loc 1 12 83 view .LVU116
 367 0022 90ED027A 		vldr.32	s14, [r0, #8]
  12:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
 368              		.loc 1 12 100 view .LVU117
 369 0026 D0ED065A 		vldr.32	s11, [r0, #24]
  12:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
 370              		.loc 1 12 87 view .LVU118
 371 002a 27EE257A 		vmul.f32	s14, s14, s11
  12:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
 372              		.loc 1 12 69 view .LVU119
 373 002e 77EE877A 		vadd.f32	s15, s15, s14
  12:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
 374              		.loc 1 12 12 view .LVU120
 375 0032 CDED017A 		vstr.32	s15, [sp, #4]
  15:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     
 376              		.loc 1 15 5 is_stmt 1 view .LVU121
  15:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     
 377              		.loc 1 15 20 is_stmt 0 view .LVU122
 378 0036 80ED066A 		vstr.32	s12, [r0, #24]
  15:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     
 379              		.loc 1 15 38 is_stmt 1 view .LVU123
  15:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     
 380              		.loc 1 15 53 is_stmt 0 view .LVU124
 381 003a C0ED056A 		vstr.32	s13, [r0, #20]
  18:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
 382              		.loc 1 18 5 is_stmt 1 view .LVU125
 383 003e 0123     		movs	r3, #1
 384 0040 6A46     		mov	r2, sp
 385              	.LVL21:
  18:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
ARM GAS  C:\Users\ACER\AppData\Local\Temp\ccETobTy.s 			page 10


 386              		.loc 1 18 5 is_stmt 0 view .LVU126
 387 0042 01A9     		add	r1, sp, #4
 388              	.LVL22:
  18:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
 389              		.loc 1 18 5 view .LVU127
 390 0044 1830     		adds	r0, r0, #24
 391              	.LVL23:
  18:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
 392              		.loc 1 18 5 view .LVU128
 393 0046 FFF7FEFF 		bl	arm_biquad_cascade_df2T_f32
 394              	.LVL24:
  21:Core/Src/Application/State_Estimator/Dsp/dsp.c **** }
 395              		.loc 1 21 5 is_stmt 1 view .LVU129
  21:Core/Src/Application/State_Estimator/Dsp/dsp.c **** }
 396              		.loc 1 21 13 is_stmt 0 view .LVU130
 397 004a 009B     		ldr	r3, [sp]	@ float
 398 004c 2360     		str	r3, [r4]	@ float
  22:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
 399              		.loc 1 22 1 view .LVU131
 400 004e 02B0     		add	sp, sp, #8
 401              	.LCFI4:
 402              		.cfi_def_cfa_offset 8
 403              		@ sp needed
 404 0050 10BD     		pop	{r4, pc}
  22:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
 405              		.loc 1 22 1 view .LVU132
 406              		.cfi_endproc
 407              	.LFE168:
 409              		.section	.text.Differentiator_new,"ax",%progbits
 410              		.align	1
 411              		.global	Differentiator_new
 412              		.syntax unified
 413              		.thumb
 414              		.thumb_func
 416              	Differentiator_new:
 417              	.LVL25:
 418              	.LFB169:
  25:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     /*Assign member functions*/
 419              		.loc 1 25 1 is_stmt 1 view -0
 420              		.cfi_startproc
 421              		@ args = 0, pretend = 0, frame = 0
 422              		@ frame_needed = 0, uses_anonymous_args = 0
  25:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     /*Assign member functions*/
 423              		.loc 1 25 1 is_stmt 0 view .LVU134
 424 0000 70B5     		push	{r4, r5, r6, lr}
 425              	.LCFI5:
 426              		.cfi_def_cfa_offset 16
 427              		.cfi_offset 4, -16
 428              		.cfi_offset 5, -12
 429              		.cfi_offset 6, -8
 430              		.cfi_offset 14, -4
 431 0002 0446     		mov	r4, r0
 432 0004 0D46     		mov	r5, r1
 433 0006 1646     		mov	r6, r2
  27:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
 434              		.loc 1 27 5 is_stmt 1 view .LVU135
  27:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
ARM GAS  C:\Users\ACER\AppData\Local\Temp\ccETobTy.s 			page 11


 435              		.loc 1 27 17 is_stmt 0 view .LVU136
 436 0008 134B     		ldr	r3, .L15
 437 000a 8362     		str	r3, [r0, #40]
  30:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->coeffs[0] = 3.0F / (2.0F * self->sample_time);
 438              		.loc 1 30 5 is_stmt 1 view .LVU137
  30:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->coeffs[0] = 3.0F / (2.0F * self->sample_time);
 439              		.loc 1 30 23 is_stmt 0 view .LVU138
 440 000c 80ED030A 		vstr.32	s0, [r0, #12]
  31:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->coeffs[1] = -4.0F / (2.0F * self->sample_time);
 441              		.loc 1 31 5 is_stmt 1 view .LVU139
  31:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->coeffs[1] = -4.0F / (2.0F * self->sample_time);
 442              		.loc 1 31 36 is_stmt 0 view .LVU140
 443 0010 30EE000A 		vadd.f32	s0, s0, s0
 444              	.LVL26:
  31:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->coeffs[1] = -4.0F / (2.0F * self->sample_time);
 445              		.loc 1 31 28 view .LVU141
 446 0014 B0EE087A 		vmov.f32	s14, #3.0e+0
 447 0018 C7EE007A 		vdiv.f32	s15, s14, s0
  31:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->coeffs[1] = -4.0F / (2.0F * self->sample_time);
 448              		.loc 1 31 21 view .LVU142
 449 001c C0ED007A 		vstr.32	s15, [r0]
  32:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->coeffs[2] = 1.0F / (2.0F * self->sample_time);
 450              		.loc 1 32 5 is_stmt 1 view .LVU143
  32:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->coeffs[2] = 1.0F / (2.0F * self->sample_time);
 451              		.loc 1 32 29 is_stmt 0 view .LVU144
 452 0020 B9EE007A 		vmov.f32	s14, #-4.0e+0
 453 0024 C7EE007A 		vdiv.f32	s15, s14, s0
  32:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->coeffs[2] = 1.0F / (2.0F * self->sample_time);
 454              		.loc 1 32 21 view .LVU145
 455 0028 C0ED017A 		vstr.32	s15, [r0, #4]
  33:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->state[0] = 0.0F; 
 456              		.loc 1 33 5 is_stmt 1 view .LVU146
  33:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->state[0] = 0.0F; 
 457              		.loc 1 33 28 is_stmt 0 view .LVU147
 458 002c B7EE007A 		vmov.f32	s14, #1.0e+0
 459 0030 C7EE007A 		vdiv.f32	s15, s14, s0
  33:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->state[0] = 0.0F; 
 460              		.loc 1 33 21 view .LVU148
 461 0034 C0ED027A 		vstr.32	s15, [r0, #8]
  34:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->state[1] = 0.0F;
 462              		.loc 1 34 5 is_stmt 1 view .LVU149
  34:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->state[1] = 0.0F;
 463              		.loc 1 34 20 is_stmt 0 view .LVU150
 464 0038 0023     		movs	r3, #0
 465 003a 0361     		str	r3, [r0, #16]	@ float
  35:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
 466              		.loc 1 35 5 is_stmt 1 view .LVU151
  35:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
 467              		.loc 1 35 20 is_stmt 0 view .LVU152
 468 003c 4361     		str	r3, [r0, #20]	@ float
  38:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
 469              		.loc 1 38 5 is_stmt 1 view .LVU153
  38:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
 470              		.loc 1 38 42 is_stmt 0 view .LVU154
 471 003e 4800     		lsls	r0, r1, #1
 472              	.LVL27:
  38:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
ARM GAS  C:\Users\ACER\AppData\Local\Temp\ccETobTy.s 			page 12


 473              		.loc 1 38 42 view .LVU155
 474 0040 FFF7FEFF 		bl	pvPortMalloc
 475              	.LVL28:
  38:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
 476              		.loc 1 38 42 view .LVU156
 477 0044 0346     		mov	r3, r0
  38:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
 478              		.loc 1 38 24 discriminator 1 view .LVU157
 479 0046 6062     		str	r0, [r4, #36]
  40:Core/Src/Application/State_Estimator/Dsp/dsp.c **** }
 480              		.loc 1 40 5 is_stmt 1 view .LVU158
 481 0048 3246     		mov	r2, r6
 482 004a 2946     		mov	r1, r5
 483 004c 04F11800 		add	r0, r4, #24
 484 0050 FFF7FEFF 		bl	arm_biquad_cascade_df2T_init_f32
 485              	.LVL29:
  41:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
 486              		.loc 1 41 1 is_stmt 0 view .LVU159
 487 0054 70BD     		pop	{r4, r5, r6, pc}
 488              	.LVL30:
 489              	.L16:
  41:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
 490              		.loc 1 41 1 view .LVU160
 491 0056 00BF     		.align	2
 492              	.L15:
 493 0058 00000000 		.word	Differentiator_apply
 494              		.cfi_endproc
 495              	.LFE169:
 497              		.section	.text.Reducer_new,"ax",%progbits
 498              		.align	1
 499              		.global	Reducer_new
 500              		.syntax unified
 501              		.thumb
 502              		.thumb_func
 504              	Reducer_new:
 505              	.LVL31:
 506              	.LFB171:
  62:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     /*Assign member functions*/
 507              		.loc 1 62 1 is_stmt 1 view -0
 508              		.cfi_startproc
 509              		@ args = 0, pretend = 0, frame = 0
 510              		@ frame_needed = 0, uses_anonymous_args = 0
 511              		@ link register save eliminated.
  64:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
 512              		.loc 1 64 5 view .LVU162
  64:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
 513              		.loc 1 64 17 is_stmt 0 view .LVU163
 514 0000 044B     		ldr	r3, .L18
 515 0002 4361     		str	r3, [r0, #20]
  67:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->reduced_angle[0] = 0.0F; self->reduced_angle[1] = 0.0F;
 516              		.loc 1 67 5 is_stmt 1 view .LVU164
  67:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->reduced_angle[0] = 0.0F; self->reduced_angle[1] = 0.0F;
 517              		.loc 1 67 21 is_stmt 0 view .LVU165
 518 0004 80ED000A 		vstr.32	s0, [r0]
  68:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->reduced_angle[2] = 0.0F; self->reduced_angle[3] = 0.0F;
 519              		.loc 1 68 5 is_stmt 1 view .LVU166
  68:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->reduced_angle[2] = 0.0F; self->reduced_angle[3] = 0.0F;
ARM GAS  C:\Users\ACER\AppData\Local\Temp\ccETobTy.s 			page 13


 520              		.loc 1 68 28 is_stmt 0 view .LVU167
 521 0008 0023     		movs	r3, #0
 522 000a 4360     		str	r3, [r0, #4]	@ float
  68:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->reduced_angle[2] = 0.0F; self->reduced_angle[3] = 0.0F;
 523              		.loc 1 68 36 is_stmt 1 view .LVU168
  68:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->reduced_angle[2] = 0.0F; self->reduced_angle[3] = 0.0F;
 524              		.loc 1 68 59 is_stmt 0 view .LVU169
 525 000c 8360     		str	r3, [r0, #8]	@ float
  69:Core/Src/Application/State_Estimator/Dsp/dsp.c **** }
 526              		.loc 1 69 5 is_stmt 1 view .LVU170
  69:Core/Src/Application/State_Estimator/Dsp/dsp.c **** }
 527              		.loc 1 69 28 is_stmt 0 view .LVU171
 528 000e C360     		str	r3, [r0, #12]	@ float
  69:Core/Src/Application/State_Estimator/Dsp/dsp.c **** }
 529              		.loc 1 69 36 is_stmt 1 view .LVU172
  69:Core/Src/Application/State_Estimator/Dsp/dsp.c **** }
 530              		.loc 1 69 59 is_stmt 0 view .LVU173
 531 0010 0361     		str	r3, [r0, #16]	@ float
  70:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
 532              		.loc 1 70 1 view .LVU174
 533 0012 7047     		bx	lr
 534              	.L19:
 535              		.align	2
 536              	.L18:
 537 0014 00000000 		.word	Reducer_apply
 538              		.cfi_endproc
 539              	.LFE171:
 541              		.section	.text.Dsp_new,"ax",%progbits
 542              		.align	1
 543              		.global	Dsp_new
 544              		.syntax unified
 545              		.thumb
 546              		.thumb_func
 548              	Dsp_new:
 549              	.LVL32:
 550              	.LFB176:
 116:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
 117:Core/Src/Application/State_Estimator/Dsp/dsp.c **** void Dsp_new(struct Dsp * const self)
 118:Core/Src/Application/State_Estimator/Dsp/dsp.c **** {
 551              		.loc 1 118 1 is_stmt 1 view -0
 552              		.cfi_startproc
 553              		@ args = 0, pretend = 0, frame = 0
 554              		@ frame_needed = 0, uses_anonymous_args = 0
 555              		.loc 1 118 1 is_stmt 0 view .LVU176
 556 0000 38B5     		push	{r3, r4, r5, lr}
 557              	.LCFI6:
 558              		.cfi_def_cfa_offset 16
 559              		.cfi_offset 3, -16
 560              		.cfi_offset 4, -12
 561              		.cfi_offset 5, -8
 562              		.cfi_offset 14, -4
 563 0002 2DED028B 		vpush.64	{d8}
 564              	.LCFI7:
 565              		.cfi_def_cfa_offset 24
 566              		.cfi_offset 80, -24
 567              		.cfi_offset 81, -20
 568 0006 0446     		mov	r4, r0
ARM GAS  C:\Users\ACER\AppData\Local\Temp\ccETobTy.s 			page 14


 119:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     /*Assign function pointer*/
 120:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->processNewData = &processNewData;
 569              		.loc 1 120 5 is_stmt 1 view .LVU177
 570              		.loc 1 120 26 is_stmt 0 view .LVU178
 571 0008 234B     		ldr	r3, .L22
 572 000a 0365     		str	r3, [r0, #80]
 121:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->cvtAngle = &cvtAngle;
 573              		.loc 1 121 5 is_stmt 1 view .LVU179
 574              		.loc 1 121 20 is_stmt 0 view .LVU180
 575 000c 234B     		ldr	r3, .L22+4
 576 000e 4365     		str	r3, [r0, #84]
 122:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->estimate = &estimate;
 577              		.loc 1 122 5 is_stmt 1 view .LVU181
 578              		.loc 1 122 20 is_stmt 0 view .LVU182
 579 0010 234B     		ldr	r3, .L22+8
 580 0012 C365     		str	r3, [r0, #92]
 123:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->filter = &filter;
 581              		.loc 1 123 5 is_stmt 1 view .LVU183
 582              		.loc 1 123 18 is_stmt 0 view .LVU184
 583 0014 234B     		ldr	r3, .L22+12
 584 0016 8365     		str	r3, [r0, #88]
 124:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
 125:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     /*Define resolution for encoders*/
 126:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->motor_resol = 2.0F * (float32_t)PI / (4.0F * 500.0F);
 585              		.loc 1 126 5 is_stmt 1 view .LVU185
 586              		.loc 1 126 23 is_stmt 0 view .LVU186
 587 0018 234B     		ldr	r3, .L22+16
 588 001a 8360     		str	r3, [r0, #8]	@ float
 127:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->pendlm_resol = 2.0F * (float32_t)PI / (4.0F * 1000.0F);
 589              		.loc 1 127 5 is_stmt 1 view .LVU187
 590              		.loc 1 127 24 is_stmt 0 view .LVU188
 591 001c 234B     		ldr	r3, .L22+20
 592 001e C360     		str	r3, [r0, #12]	@ float
 128:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
 129:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     /*Initialize value for data member*/
 130:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->motor_angle = 0.0F; self->pendlm_angle = 0.0F;
 593              		.loc 1 130 5 is_stmt 1 view .LVU189
 594              		.loc 1 130 23 is_stmt 0 view .LVU190
 595 0020 0025     		movs	r5, #0
 596 0022 0561     		str	r5, [r0, #16]	@ float
 597              		.loc 1 130 31 is_stmt 1 view .LVU191
 598              		.loc 1 130 50 is_stmt 0 view .LVU192
 599 0024 4561     		str	r5, [r0, #20]	@ float
 131:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->raw_motor_angle = 0.0F; self->raw_pendlm_angle = 0.0F;
 600              		.loc 1 131 5 is_stmt 1 view .LVU193
 601              		.loc 1 131 27 is_stmt 0 view .LVU194
 602 0026 0560     		str	r5, [r0]	@ float
 603              		.loc 1 131 35 is_stmt 1 view .LVU195
 604              		.loc 1 131 58 is_stmt 0 view .LVU196
 605 0028 4560     		str	r5, [r0, #4]	@ float
 132:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->filtered_motor_angle = 0.0F; self->filtered_pendlm_angle = 0.0F;
 606              		.loc 1 132 5 is_stmt 1 view .LVU197
 607              		.loc 1 132 32 is_stmt 0 view .LVU198
 608 002a 8561     		str	r5, [r0, #24]	@ float
 609              		.loc 1 132 40 is_stmt 1 view .LVU199
 610              		.loc 1 132 68 is_stmt 0 view .LVU200
 611 002c C561     		str	r5, [r0, #28]	@ float
ARM GAS  C:\Users\ACER\AppData\Local\Temp\ccETobTy.s 			page 15


 133:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->filtered_motor_vel = 0.0F; self->filtered_pendlm_vel = 0.0F;
 612              		.loc 1 133 5 is_stmt 1 view .LVU201
 613              		.loc 1 133 30 is_stmt 0 view .LVU202
 614 002e 0562     		str	r5, [r0, #32]	@ float
 615              		.loc 1 133 38 is_stmt 1 view .LVU203
 616              		.loc 1 133 64 is_stmt 0 view .LVU204
 617 0030 4562     		str	r5, [r0, #36]	@ float
 134:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
 135:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     /*Initialize Reducers*/
 136:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->motor_reducer = ( struct Reducer * ) pvPortMalloc( sizeof( struct Reducer ) );
 618              		.loc 1 136 5 is_stmt 1 view .LVU205
 619              		.loc 1 136 48 is_stmt 0 view .LVU206
 620 0032 1820     		movs	r0, #24
 621              	.LVL33:
 622              		.loc 1 136 48 view .LVU207
 623 0034 FFF7FEFF 		bl	pvPortMalloc
 624              	.LVL34:
 625              		.loc 1 136 25 discriminator 1 view .LVU208
 626 0038 2064     		str	r0, [r4, #64]
 137:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->pendlm_reducer = ( struct Reducer * ) pvPortMalloc( sizeof( struct Reducer ) );
 627              		.loc 1 137 5 is_stmt 1 view .LVU209
 628              		.loc 1 137 49 is_stmt 0 view .LVU210
 629 003a 1820     		movs	r0, #24
 630 003c FFF7FEFF 		bl	pvPortMalloc
 631              	.LVL35:
 632              		.loc 1 137 26 discriminator 1 view .LVU211
 633 0040 6064     		str	r0, [r4, #68]
 138:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     Reducer_new(self->motor_reducer, 30.0F); 
 634              		.loc 1 138 5 is_stmt 1 view .LVU212
 635 0042 B3EE0E0A 		vmov.f32	s0, #3.0e+1
 636 0046 206C     		ldr	r0, [r4, #64]
 637 0048 FFF7FEFF 		bl	Reducer_new
 638              	.LVL36:
 139:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     Reducer_new(self->pendlm_reducer, 0.5F);
 639              		.loc 1 139 5 view .LVU213
 640 004c B6EE000A 		vmov.f32	s0, #5.0e-1
 641 0050 606C     		ldr	r0, [r4, #68]
 642 0052 FFF7FEFF 		bl	Reducer_new
 643              	.LVL37:
 140:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
 141:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     /*Initialize Differentiators*/
 142:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->motor_differentiator = ( Differentiator * ) pvPortMalloc( sizeof(Differentiator) );
 644              		.loc 1 142 5 view .LVU214
 645              		.loc 1 142 55 is_stmt 0 view .LVU215
 646 0056 2C20     		movs	r0, #44
 647 0058 FFF7FEFF 		bl	pvPortMalloc
 648              	.LVL38:
 649              		.loc 1 142 32 discriminator 1 view .LVU216
 650 005c A064     		str	r0, [r4, #72]
 143:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->pendlm_differentiator = ( Differentiator * ) pvPortMalloc( sizeof(Differentiator) );
 651              		.loc 1 143 5 is_stmt 1 view .LVU217
 652              		.loc 1 143 56 is_stmt 0 view .LVU218
 653 005e 2C20     		movs	r0, #44
 654 0060 FFF7FEFF 		bl	pvPortMalloc
 655              	.LVL39:
 656              		.loc 1 143 33 discriminator 1 view .LVU219
 657 0064 E064     		str	r0, [r4, #76]
ARM GAS  C:\Users\ACER\AppData\Local\Temp\ccETobTy.s 			page 16


 144:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     Differentiator_new(self->motor_differentiator, 1E-3F, MOTOR_FILTER_STAGES_NUM, &motor_butterwor
 658              		.loc 1 144 5 is_stmt 1 view .LVU220
 659 0066 9FED128A 		vldr.32	s16, .L22+24
 660 006a 124A     		ldr	r2, .L22+28
 661 006c 0D21     		movs	r1, #13
 662 006e B0EE480A 		vmov.f32	s0, s16
 663 0072 A06C     		ldr	r0, [r4, #72]
 664 0074 FFF7FEFF 		bl	Differentiator_new
 665              	.LVL40:
 145:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     Differentiator_new(self->pendlm_differentiator, 1E-3F, PENDULM_FILTER_STAGES_NUM, &pendlm_butte
 666              		.loc 1 145 5 view .LVU221
 667 0078 0F4A     		ldr	r2, .L22+32
 668 007a 0A21     		movs	r1, #10
 669 007c B0EE480A 		vmov.f32	s0, s16
 670 0080 E06C     		ldr	r0, [r4, #76]
 671 0082 FFF7FEFF 		bl	Differentiator_new
 672              	.LVL41:
 146:Core/Src/Application/State_Estimator/Dsp/dsp.c **** 
 147:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     /*Initialize estimated data output*/
 148:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->estimated_motor_data.angle = 0.0F;
 673              		.loc 1 148 5 view .LVU222
 674              		.loc 1 148 38 is_stmt 0 view .LVU223
 675 0086 A562     		str	r5, [r4, #40]	@ float
 149:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->estimated_motor_data.vel = 0.0F;
 676              		.loc 1 149 5 is_stmt 1 view .LVU224
 677              		.loc 1 149 36 is_stmt 0 view .LVU225
 678 0088 E562     		str	r5, [r4, #44]	@ float
 150:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->estimated_motor_data.acc = 0.0F;
 679              		.loc 1 150 5 is_stmt 1 view .LVU226
 680              		.loc 1 150 36 is_stmt 0 view .LVU227
 681 008a 2563     		str	r5, [r4, #48]	@ float
 151:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->estimated_pendlm_data.angle = 0.0F;
 682              		.loc 1 151 5 is_stmt 1 view .LVU228
 683              		.loc 1 151 39 is_stmt 0 view .LVU229
 684 008c 6563     		str	r5, [r4, #52]	@ float
 152:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->estimated_pendlm_data.vel = 0.0F;
 685              		.loc 1 152 5 is_stmt 1 view .LVU230
 686              		.loc 1 152 37 is_stmt 0 view .LVU231
 687 008e A563     		str	r5, [r4, #56]	@ float
 153:Core/Src/Application/State_Estimator/Dsp/dsp.c ****     self->estimated_pendlm_data.acc = 0.0F;
 688              		.loc 1 153 5 is_stmt 1 view .LVU232
 689              		.loc 1 153 37 is_stmt 0 view .LVU233
 690 0090 E563     		str	r5, [r4, #60]	@ float
 154:Core/Src/Application/State_Estimator/Dsp/dsp.c **** }
 691              		.loc 1 154 1 view .LVU234
 692 0092 BDEC028B 		vldm	sp!, {d8}
 693              	.LCFI8:
 694              		.cfi_restore 80
 695              		.cfi_restore 81
 696              		.cfi_def_cfa_offset 16
 697 0096 38BD     		pop	{r3, r4, r5, pc}
 698              	.LVL42:
 699              	.L23:
 700              		.loc 1 154 1 view .LVU235
 701              		.align	2
 702              	.L22:
 703 0098 00000000 		.word	processNewData
ARM GAS  C:\Users\ACER\AppData\Local\Temp\ccETobTy.s 			page 17


 704 009c 00000000 		.word	cvtAngle
 705 00a0 00000000 		.word	estimate
 706 00a4 00000000 		.word	filter
 707 00a8 2EE34D3B 		.word	994960174
 708 00ac 2EE3CD3A 		.word	986571566
 709 00b0 6F12833A 		.word	981668463
 710 00b4 00000000 		.word	motor_butterworth_coeffs
 711 00b8 00000000 		.word	pendlm_butterworth_coeffs
 712              		.cfi_endproc
 713              	.LFE176:
 715              		.text
 716              	.Letext0:
 717              		.file 2 "D:/Software/Arm Toolchain/arm-gnu-toolchain-13.2.rel1-mingw-w64-i686-arm-none-eabi/arm-gn
 718              		.file 3 "D:/Software/Arm Toolchain/arm-gnu-toolchain-13.2.rel1-mingw-w64-i686-arm-none-eabi/arm-gn
 719              		.file 4 "D:/Software/Arm Toolchain/arm-gnu-toolchain-13.2.rel1-mingw-w64-i686-arm-none-eabi/arm-gn
 720              		.file 5 "Drivers/CMSIS/DSP/Include/arm_math.h"
 721              		.file 6 "Core/Src/Middleware/Topic/topic.h"
 722              		.file 7 "Core/Src/Application/State_Estimator/Dsp/dsp.h"
 723              		.file 8 "ThirdParty/FreeRTOS/include/portable.h"
ARM GAS  C:\Users\ACER\AppData\Local\Temp\ccETobTy.s 			page 18


DEFINED SYMBOLS
                            *ABS*:00000000 dsp.c
C:\Users\ACER\AppData\Local\Temp\ccETobTy.s:21     .text.Reducer_apply:00000000 $t
C:\Users\ACER\AppData\Local\Temp\ccETobTy.s:26     .text.Reducer_apply:00000000 Reducer_apply
C:\Users\ACER\AppData\Local\Temp\ccETobTy.s:101    .text.cvtAngle:00000000 $t
C:\Users\ACER\AppData\Local\Temp\ccETobTy.s:106    .text.cvtAngle:00000000 cvtAngle
C:\Users\ACER\AppData\Local\Temp\ccETobTy.s:142    .text.filter:00000000 $t
C:\Users\ACER\AppData\Local\Temp\ccETobTy.s:147    .text.filter:00000000 filter
C:\Users\ACER\AppData\Local\Temp\ccETobTy.s:222    .text.estimate:00000000 $t
C:\Users\ACER\AppData\Local\Temp\ccETobTy.s:227    .text.estimate:00000000 estimate
C:\Users\ACER\AppData\Local\Temp\ccETobTy.s:261    .text.processNewData:00000000 $t
C:\Users\ACER\AppData\Local\Temp\ccETobTy.s:266    .text.processNewData:00000000 processNewData
C:\Users\ACER\AppData\Local\Temp\ccETobTy.s:325    .text.Differentiator_apply:00000000 $t
C:\Users\ACER\AppData\Local\Temp\ccETobTy.s:330    .text.Differentiator_apply:00000000 Differentiator_apply
C:\Users\ACER\AppData\Local\Temp\ccETobTy.s:410    .text.Differentiator_new:00000000 $t
C:\Users\ACER\AppData\Local\Temp\ccETobTy.s:416    .text.Differentiator_new:00000000 Differentiator_new
C:\Users\ACER\AppData\Local\Temp\ccETobTy.s:493    .text.Differentiator_new:00000058 $d
C:\Users\ACER\AppData\Local\Temp\ccETobTy.s:498    .text.Reducer_new:00000000 $t
C:\Users\ACER\AppData\Local\Temp\ccETobTy.s:504    .text.Reducer_new:00000000 Reducer_new
C:\Users\ACER\AppData\Local\Temp\ccETobTy.s:537    .text.Reducer_new:00000014 $d
C:\Users\ACER\AppData\Local\Temp\ccETobTy.s:542    .text.Dsp_new:00000000 $t
C:\Users\ACER\AppData\Local\Temp\ccETobTy.s:548    .text.Dsp_new:00000000 Dsp_new
C:\Users\ACER\AppData\Local\Temp\ccETobTy.s:703    .text.Dsp_new:00000098 $d

UNDEFINED SYMBOLS
arm_biquad_cascade_df2T_f32
pvPortMalloc
arm_biquad_cascade_df2T_init_f32
motor_butterworth_coeffs
pendlm_butterworth_coeffs
